package com.zikgu.example.service;

import java.util.List;

import javax.annotation.PostConstruct;

import org.springframework.stereotype.Service;

import com.zikgu.example.domain.K1Image;

@Service
public interface CrawlingService {
	 private static String URL = "www://aaa.com";

	    @PostConstruct
	    public List<K1Image> getNewsDatas() throws IOException {
	        List<K1Image> newsList = new ArrayList<>();
	        Document document = Jsoup.connect(URL).get();

	        Elements contents = document.select("section ul.type2 li");

	        for (Element content : contents) {
	            News news = News.builder()
	                    .image(content.select("a img").attr("abs:src")) // 이미지
	                    .subject(content.select("h4 a").text())		// 제목
	                    .url(content.select("a").attr("abs:href"))		// 링크
	                    .build();
	            newsList.add(news);
	        }

	        return newsList;
	    }
	}
