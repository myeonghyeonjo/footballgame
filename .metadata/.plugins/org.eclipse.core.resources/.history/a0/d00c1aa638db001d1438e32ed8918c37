<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ page import="java.io.File"%>
<%@ taglib prefix="sec"
	uri="http://www.springframework.org/security/tags"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>
    <%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
  <jsp:include page="/WEB-INF/views/template/banner.jsp"></jsp:include>	
       <sec:authentication property="principal" var="principal"/>
       <div class="row g-5">
				<div class="col-md-7 col-lg-8">
           <label class="as-globalfooter-directory-column-section-label" for="as-globalfooter-state-section-two-0" data-asext-evar="eVar6" data-asext-feature="footer" data-asext-part="계정" data-asext-action="expand" data-asext-action-toggle="collapse">
            <h3 class="as-globalfooter-directory-column-section-title" aria-label="계정">계정</h3>
        </label>
     

	<hr>
	<h1 style="color:black;">${principal.uName }님, 안녕하세요</h1>
        <div>
           <sec:authorize access="isAuthenticated()">
              
           
           
           
           
           
           
           
           
           
           
           
           
           <a href="/">돌아가기</a>
           <a href="/centerinsert?u_key=${u_key}">센터 등록</a>
           <a href="/centerlist">센터 리스트</a>
           <a href="/trainerProfile?u_key=${u_key}">트레이너 프로필 등록</a>
           <a href="/trainerDetail?u_key=${u_key}">트레이너 프로필 보기</a>
             <a href="/memberProfile?u_key=${u_key}">회원 프로필 등록</a>
              <a href="/logininformation?u_key=${u_key}">내정보</a>
         </sec:authorize>
        </div>
        
        
        
        
        
        
        
        
        
        
        
        
        
<body class="bg-light">

	<div class="container">
		<main>
		
<form  action="/memberProfileinsert" method="post" enctype="multipart/form-data" accept-charset="UTF-8">
	
   
	<p><input type="hidden" name="u_key" value="${u_key }"></p>
			
					
					<label for="email" style="font-size: 20px; padding:5px; form-labelmt-4" ><strong>회원명</label>
							<div id="sectionbox" class="form-control"
								style="padding: 10px; background-color: white;"">


								<div style="display: flex;">
								

									<div class="col-md-10">
										<input type="text" class="form-control" style="flex: 0.5;" name="m_name"
											id="address2" placeholder="내용을 입력해주세요">
									</div>
								</div>
							</div>
					
				
				
				
				
					
					
					
					
				



							<br>
							<label for="email" style="font-size: 20px;" form-labelmt-4" ><strong>프로그램</label>
							<div id="sectionbox" class="form-control"
								style="padding: 10px; background-color: white;"">


							
							
								<div>

									<label for="username2" class="form-label"
										style="font-size: 15px;">관심있는 프로그램을 선택해주세요</label><br>
									<div style="display: flex;">
										<input type="checkbox" style="flex: 0.3;" name="m_programsub"
											class="btn-check" id="btn-check-outlined" autocomplete="off" value="벌크업">
										<label class="btn btn-outline-dark" for="btn-check-outlined">벌크업</label><br>
										<input type="checkbox" style="flex: 0.3;" name="m_programsub"
											class="btn-check" id="btn-check-outlined2" autocomplete="off" value="식단관리">
										<label class="btn btn-outline-dark" for="btn-check-outlined2">식단관리</label><br>
										<input type="checkbox" style="flex: 0.3;" name="m_programsub"
											class="btn-check" id="btn-check-outlined3" autocomplete="off" value="기능개선">
										<label class="btn btn-outline-dark" for="btn-check-outlined3">기능개선</label><br>
										<input type="checkbox" style="flex: 0.3;" name="m_programsub"
											class="btn-check" id="btn-check-outlined4" autocomplete="off" value="바른체형">
										<label class="btn btn-outline-dark" for="btn-check-outlined4">바른체형</label><br>
										<input type="checkbox" style="flex: 0.3;" name="m_programsub"
											class="btn-check" id="btn-check-outlined5" autocomplete="off" value="다이어트">
										<label class="btn btn-outline-dark" for="btn-check-outlined5">다이어트</label><br>
										<input type="checkbox" style="flex: 0.3;" name="m_programsub"
											class="btn-check" id="btn-check-outlined6" autocomplete="off" value="하체라인">
										<label class="btn btn-outline-dark" for="btn-check-outlined6">하체라인</label><br>
										<input type="checkbox" style="flex: 0.3;" name="m_programsub"
											class="btn-check" id="btn-check-outlined7" autocomplete="off" value="기초체력">
										<label class="btn btn-outline-dark" for="btn-check-outlined7">기초체력</label><br>
										<input type="checkbox" style="flex: 0.3;" name="m_programsub"
											class="btn-check" id="btn-check-outlined8" autocomplete="off" value="근력향상">
										<label class="btn btn-outline-dark" for="btn-check-outlined8">근력향상</label><br>
									</div>
									<div style="display: flex;">
										<input type="checkbox" style="flex: 0.3;" name="m_programsub"
											class="btn-check" id="btn-check-outlined9" autocomplete="off" value="대회준비">
										<label class="btn btn-outline-dark" for="btn-check-outlined9">대회준비</label><br>
										<input type="checkbox" style="flex: 0.3;" name="m_programsub	"
											class="btn-check" id="btn-check-outlined10" value="산전산후케어"
											autocomplete="off"> <label
											class="btn btn-outline-dark" for="btn-check-outlined10">산전산후케어</label><br>
										<input type="checkbox" style="flex: 0.3;" name="m_programsub"
											class="btn-check" id="btn-check-outlined11" value="바디프로필"
											autocomplete="off"> <label
											class="btn btn-outline-dark" for="btn-check-outlined11">바디프로필</label><br>
									</div>
									
									<label for="username2" class="form-label"
										style="font-size: 15px;">성별을 선택해주세요</label><br>
										<div style="display: flex;">
										<input type="checkbox" style="flex: 0.3;" name="m_gender"
											class="btn-check" id="btn-check-outlined12" autocomplete="off" value="남성">
										<label class="btn btn-outline-dark" for="btn-check-outlined12">남성</label><br>
										<input type="checkbox" style="flex: 0.3;" name="m_gender"
											class="btn-check" id="btn-check-outlined13" value="여성"
											autocomplete="off"> <label
											class="btn btn-outline-dark" for="btn-check-outlined13">여성</label><br>
										
									</div>
										
								</div>
							
								
								</div>
								
							


							
							
								
							
									
										</select>
										<label for="myTextarea" class="form-label"
										style="font-size: 15px;">상담요청 인사말 설정 (연락 시 참고사항)</label>
									<div class="input-group has-validation">
										<div class="col-md-10">
										<input type="text" class="form-control" style="flex: 0.5;" name="m_intro"
											id="address2" placeholder="내용을 입력해주세요">
									</div>
									</div>
								

							
							

								
							<label for="email" style="font-size: 20px; padding:10px; form-labelmt-4" ><strong>거주지</label>
							<div id="sectionbox" class="form-control" 
								style="padding: 10px; background-color: white;">
									<div style="display: flex;">
										<input type="text" style= "flex: 0.5; margin:2px;" class="form-control"  name="m_postcode" id="sample4_postcode" placeholder="우편번호" readonly>
										<input type="button"  style= "flex: 0.5; margin:2px;" onclick="sample4_execDaumPostcode()" value="우편번호 찾기"  class="form-control" ><br>
									</div>
										<input type="text" class="form-control" style="margin: 2px;" id="sample4_roadAddress" name="m_loadaddress" placeholder="도로명주소" readonly>
										<input type="text" class="form-control"  style="margin: 2px;"  id="sample4_jibunAddress" name="m_oldaddress" placeholder="지번주소" readonly>
										<span id="guide" style="color:#999;display:none"></span>
										<input type="text"  class="form-control"  style="margin: 2px;"  id="sample4_detailAddress" name="m_detailaddress" placeholder="상세주소" >
										<input type="text" class="form-control"  style="margin: 2px;"  id="sample4_extraAddress" name="m_optionaddress" placeholder="참고항목" readonly>
								</div>

							<hr class="my-4">

							<button style="width:150px;"class="btn btn-outline-dark" type="submit">등록하기</button>
								</div>
								</div>
				
					</form>
		</main>

		<footer class="my-5 pt-5 text-muted text-center text-small">
			<p class="mb-1">&copy; 2017–2023 Company Name</p>
			<ul class="list-inline">
				<li class="list-inline-item"><a href="#">Privacy</a></li>
				<li class="list-inline-item"><a href="#">Terms</a></li>
				<li class="list-inline-item"><a href="#">Support</a></li>
			</ul>
		</footer>
	


	<script src="/docs/5.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
		crossorigin="anonymous"></script>

	<script src="form-validation.js"></script>

	<script>
      function setThumbnail(event) {
        for (var image of event.target.files) {
          var reader = new FileReader();

          reader.onload = function(event) {
            var img = document.createElement("img");
            img.setAttribute("src", event.target.result);
            document.querySelector("div#image_container").appendChild(img);
          };

          console.log(image);
          reader.readAsDataURL(image);
        }
      }
</script>
<script>
      function setThumbnail4(event) {
        for (var image of event.target.files) {
          var reader = new FileReader();

          reader.onload = function(event) {
            var img = document.createElement("img");
            img.setAttribute("src", event.target.result);
            document.querySelector("div#image_container4").appendChild(img);
          };

          console.log(image);
          reader.readAsDataURL(image);
        }
      }
</script>
<script>
      function setThumbnail5(event) {
        for (var image of event.target.files) {
          var reader = new FileReader();

          reader.onload = function(event) {
            var img = document.createElement("img");
            img.setAttribute("src", event.target.result);
            document.querySelector("div#image_container5").appendChild(img);
          };

          console.log(image);
          reader.readAsDataURL(image);
        }
      }
</script>
<script>
      function setThumbnail6(event) {
        for (var image of event.target.files) {
          var reader = new FileReader();

          reader.onload = function(event) {
            var img = document.createElement("img");
            img.setAttribute("src", event.target.result);
            document.querySelector("div#image_container6").appendChild(img);
          };

          console.log(image);
          reader.readAsDataURL(image);
        }
      }
</script>
<script>
      function setThumbnail7(event) {
        for (var image of event.target.files) {
          var reader = new FileReader();

          reader.onload = function(event) {
            var img = document.createElement("img");
            img.setAttribute("src", event.target.result);
            document.querySelector("div#image_container7").appendChild(img);
          };

          console.log(image);
          reader.readAsDataURL(image);
        }
      }
</script>
<script>
      function setThumbnail8(event) {
        for (var image of event.target.files) {
          var reader = new FileReader();

          reader.onload = function(event) {
            var img = document.createElement("img");
            img.setAttribute("src", event.target.result);
            document.querySelector("div#image_container8").appendChild(img);
          };

          console.log(image);
          reader.readAsDataURL(image);
        }
      }
</script>
<script>
      function setThumbnail9(event) {
        for (var image of event.target.files) {
          var reader = new FileReader();

          reader.onload = function(event) {
            var img = document.createElement("img");
            img.setAttribute("src", event.target.result);
            document.querySelector("div#image_container9").appendChild(img);
          };

          console.log(image);
          reader.readAsDataURL(image);
        }
      }
</script>
<script>
      function setThumbnail10(event) {
        for (var image of event.target.files) {
          var reader = new FileReader();

          reader.onload = function(event) {
            var img = document.createElement("img");
            img.setAttribute("src", event.target.result);
            document.querySelector("div#image_container10").appendChild(img);
          };

          console.log(image);
          reader.readAsDataURL(image);
        }
      }
</script>

	<script>
      function setThumbnail2(event) {
        for (var image of event.target.files) {
          var reader = new FileReader();

          reader.onload = function(event) {
            var img = document.createElement("img");
            img.setAttribute("src", event.target.result);
            document.querySelector("div#image_container2").appendChild(img);
          };

          console.log(image);
          reader.readAsDataURL(image);
        }
      }
      function setThumbnail3(event) {
          for (var image of event.target.files) {
            var reader = new FileReader();

            reader.onload = function(event) {
              var img = document.createElement("img");
              img.setAttribute("src", event.target.result);
              document.querySelector("div#image_container3").appendChild(img);
            };

            console.log(image);
            reader.readAsDataURL(image);
          }
        }
      
      function formatTime(input) {
    	  // 입력값에서 숫자만 추출
    	  var numbers = input.value.replace(/\D/g,'');
    	  // 숫자가 4자리인 경우에만 변환
    	  if (numbers.length === 4) {
    	    // 시간과 분으로 분리
    	    var hours = numbers.slice(0, 2);
    	    var minutes = numbers.slice(2);
    	    // 시간과 분을 시간 형식으로 변환
    	    var timeString = hours + ":" + minutes;
    	    // 변환된 값을 다시 입력값으로 설정
    	    input.value = timeString;
    	  }
    	}

    //본 예제에서는 도로명 주소 표기 방식에 대한 법령에 따라, 내려오는 데이터를 조합하여 올바른 주소를 구성하는 방법을 설명합니다.
      function sample4_execDaumPostcode() {
          new daum.Postcode({
              oncomplete: function(data) {
                  // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

                  // 도로명 주소의 노출 규칙에 따라 주소를 표시한다.
                  // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                  var roadAddr = data.roadAddress; // 도로명 주소 변수
                  var extraRoadAddr = ''; // 참고 항목 변수

                  // 법정동명이 있을 경우 추가한다. (법정리는 제외)
                  // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
                  if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                      extraRoadAddr += data.bname;
                  }
                  // 건물명이 있고, 공동주택일 경우 추가한다.
                  if(data.buildingName !== '' && data.apartment === 'Y'){
                     extraRoadAddr += (extraRoadAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                  }
                  // 표시할 참고항목이 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
                  if(extraRoadAddr !== ''){
                      extraRoadAddr = ' (' + extraRoadAddr + ')';
                  }

                  // 우편번호와 주소 정보를 해당 필드에 넣는다.
                  document.getElementById('sample4_postcode').value = data.zonecode;
                  document.getElementById("sample4_roadAddress").value = roadAddr;
                  document.getElementById("sample4_jibunAddress").value = data.jibunAddress;
                  
                  // 참고항목 문자열이 있을 경우 해당 필드에 넣는다.
                  if(roadAddr !== ''){
                      document.getElementById("sample4_extraAddress").value = extraRoadAddr;
                  } else {
                      document.getElementById("sample4_extraAddress").value = '';
                  }

                  var guideTextBox = document.getElementById("guide");
                  // 사용자가 '선택 안함'을 클릭한 경우, 예상 주소라는 표시를 해준다.
                  if(data.autoRoadAddress) {
                      var expRoadAddr = data.autoRoadAddress + extraRoadAddr;
                      guideTextBox.innerHTML = '(예상 도로명 주소 : ' + expRoadAddr + ')';
                      guideTextBox.style.display = 'block';

                  } else if(data.autoJibunAddress) {
                      var expJibunAddr = data.autoJibunAddress;
                      guideTextBox.innerHTML = '(예상 지번 주소 : ' + expJibunAddr + ')';
                      guideTextBox.style.display = 'block';
                  } else {
                      guideTextBox.innerHTML = '';
                      guideTextBox.style.display = 'none';
                  }
              }
          }).open();
      }

      var filecount=1;
    //자격조건 추가
    $(document).on('click', '#addCertificate', function () {
    	filecount = filecount+1;
    	console.log(filecount);
	$("#addCertificate").parent().before("<div style=' margin-top:10px; background-color: white;'><div style='display: flex;'><select class='form-select' name='tf_certificate' id='country' style='flex: 0.85;'required><option value='학력'>학력</option><option value='자격증'>자격증</option><option value='자격증'>수상경력</option><option value='자격증'>근무경력</option></select><div class='col-md-8.5'><input type='text' class='form-control' style='width:480px;flex: 0.5;' name='tf_certificatetitle'id='address2' placeholder='내용을 입력해주세요'></div><button type = 'button'style='flex:1; width:210px;'class='btn btn-outline-dark' id = 'deleteQuestion' qMaster='${sv.sNo}' qIndex='${q.qIndex}'>질문 삭제</button></div><label for='state' name='tf_certificatephoto' class='form-label'>증명서/사진등록[필수]</label><input class='form-control' type='file' name='tf_cer_photo" + filecount + "' 'filecount' accept='image/*' onchange='setThumbnail2(event);'id='formFile2' multiple /><div class='image-container2' id='image_container2'></div><input type='hidden' name='filecount' value='"+filecount+"'></div>")
	});
    
    //자격조건 삭제
    $(document).on('click', '#deleteQuestion', function () {
    	filecount = filecount-1;
    	console.log(filecount);
    	$(this).parent().parent().remove();
});
    	
</script>
</body>        
</body>
</html>
